<!-- Ø¯Ø§Ø®Ù„ <script> -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const surpriseButton = document.getElementById('surpriseButton');
        const resultContainer = document.getElementById('resultContainer');
        const resultText = document.getElementById('resultText');
        const modal = document.getElementById('modal');
        const modalResult = document.getElementById('modalResult');
        const closeModal = document.getElementById('closeModal');

        const surprises = [
            "Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø±Ø¨Ø­Øª Ø¬Ù†ÙŠÙ‡",
            "Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¹Ø§ÙŠØ¯Ù†ÙŠ Ø¨Ø¬Ù†ÙŠÙ‡",
            "Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø­Ø¸ Ø§ÙˆÙØ±",
            "Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© Ù„Ùƒ Ù‚Ø·Ø¹Ø© ÙƒÙŠÙƒ Ø²ÙŠØ§Ø¯Ø©",
            "Ø§Ù„Ø®Ø§Ù…Ø³Ø© Ø§ØºØ³Ù„ ØµØ­ÙˆÙ† Ø§Ù„ÙƒÙŠÙƒ",
            "Ø§Ù„Ø³Ø§Ø¯Ø³Ø© Ù‚Ù„ Ø§Ø¨ÙŠØ® Ù†ÙƒØªØ© Ø¹Ù†Ø¯Ùƒ"
        ];

        // ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø²Ø± Ù…Ù† Ù‚Ø¨Ù„
        const hasUsed = localStorage.getItem('hasUsedSurprise');

        if (hasUsed === 'true') {
            surpriseButton.disabled = true;
            surpriseButton.textContent = "Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ù…ÙØ§Ø¬Ø£ØªÙƒ ğŸ‰";
        }

        surpriseButton.addEventListener('click', function() {
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ù…Ù‡ Ù…Ø³Ø¨Ù‚Ù‹Ø§ØŒ Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ù‹Ø§
            if (localStorage.getItem('hasUsedSurprise') === 'true') return;

            // Ø§Ø­ÙØ¸ Ø£Ù†Ù‡ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©
            localStorage.setItem('hasUsedSurprise', 'true');
            surpriseButton.disabled = true;
            surpriseButton.textContent = "Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ù…ÙØ§Ø¬Ø£ØªÙƒ ğŸ‰";

            // Ø§Ø®ØªØ± Ù…ÙØ§Ø¬Ø£Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
            const randomIndex = Math.floor(Math.random() * surprises.length);
            const surprise = surprises[randomIndex];

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            resultText.textContent = surprise;
            resultContainer.classList.remove('hidden');
            resultContainer.classList.add('animate__animated', 'animate__fadeIn');

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
            modalResult.textContent = surprise;
            modal.classList.remove('hidden');

            // ØªØ£Ø«ÙŠØ± Ø§Ø­ØªÙØ§Ù„Ø§Øª
            createConfetti();
        });

        closeModal.addEventListener('click', function() {
            modal.classList.add('hidden');
        });

        function createConfetti() {
            const colors = ['#3b82f6', '#f59e0b', '#10b981', '#ef4444'];

            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.opacity = '0.8';

                document.body.appendChild(confetti);

                const animationDuration = Math.random() * 3 + 2;

                confetti.style.transition = `all ${animationDuration}s ease-out`;
                confetti.style.transform = `translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 + 100}px) rotate(${Math.random() * 360}deg)`;
                confetti.style.opacity = '0';

                setTimeout(() => {
                    confetti.remove();
                }, animationDuration * 1000);
            }
        }
    });
</script>
